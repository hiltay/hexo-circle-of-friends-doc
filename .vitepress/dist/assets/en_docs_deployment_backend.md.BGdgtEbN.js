import{_ as i,c as e,o as t,af as a,ag as n,ah as l,ai as r,aj as o,ak as h,al as p}from"./chunks/framework.DSZV70p2.js";const f=JSON.parse('{"title":"Backend Deployment","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/deployment/backend.md","filePath":"en/docs/deployment/backend.md"}'),d={name:"en/docs/deployment/backend.md"};function k(c,s,g,u,b,y){return t(),e("div",null,[...s[0]||(s[0]=[a(`<h1 id="backend-deployment" tabindex="-1">Backend Deployment <a class="header-anchor" href="#backend-deployment" aria-label="Permalink to â€œBackend Deploymentâ€">â€‹</a></h1><p>The <strong>Friends Feed (fcircle) backend</strong> is responsible for <strong>scraping articles from friend links and generating data APIs</strong> for the frontend.<br> Two deployment methods are supported:</p><ol><li><strong>GitHub Action + Vercel (recommended)</strong> â€“ serverless, zero-maintenance</li><li><strong>Self-hosted (server deployment)</strong> â€“ higher stability on your own server</li></ol><hr><h2 id="ğŸš€-github-vercel-recommended" tabindex="-1">ğŸš€ GitHub + Vercel (Recommended) <a class="header-anchor" href="#ğŸš€-github-vercel-recommended" aria-label="Permalink to â€œğŸš€ GitHub + Vercel (Recommended)â€">â€‹</a></h2><p>The simplest route: GitHub Actions automatically scrape friend data, and Vercel hosts the API.</p><h3 id="steps" tabindex="-1">Steps <a class="header-anchor" href="#steps" aria-label="Permalink to â€œStepsâ€">â€‹</a></h3><ol><li><p><strong>Fork the Repository</strong><br> Open <a href="https://github.com/Rock-Candy-Tea/hexo-circle-of-friends" target="_blank" rel="noreferrer">hexo-circle-of-friends</a> and click <strong>Fork</strong>.<br> Weâ€™ll call this â€œyour repoâ€ below.</p></li><li><p><strong>Edit the Config File</strong><br> Update <code>fc_settings.yaml</code> in the root with your friend-links page and theme:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">LINK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.yyyzyyyz.cn/link/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;butterfly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><ul><li><code>link</code> â€“ your blogâ€™s friend-links page</li><li><code>theme</code> â€“ matching theme (e.g., butterfly, matery)</li></ul></li><li><p><strong>Grant GitHub Action Permissions</strong><br> In your repo â†’ <strong>Settings â†’ Actions â†’ General</strong> â†’ choose <strong>Read and write permissions</strong>.</p><p><img src="`+n+'" alt="GitHub Actions Permissions"></p></li><li><p><strong>Enable GitHub Actions</strong></p><ul><li>Click <strong>Actions</strong> in the repo menu â†’ enable workflows</li></ul><p><img src="'+l+'" alt="GitHub Actions Run"></p><ul><li><p>Find <code>update-friends-posts</code>, click <strong>Run workflow</strong> manually once</p><p><img src="'+r+'" alt="GitHub Actions Run"></p><p><img src="'+o+'" alt="GitHub Actions Run"></p></li><li><p>After completion, your repo will contain <code>data.db</code>.</p></li></ul></li><li><p><strong>Deploy to Vercel</strong></p><ul><li><p>Sign up at <a href="https://vercel.com" target="_blank" rel="noreferrer">Vercel</a> and link your GitHub account</p></li><li><p>Click <strong>New Project</strong> â†’ import your fork</p><p><img src="'+h+'" alt="Vercel Import"></p></li><li><p>Click <strong>Deploy</strong> and wait</p></li></ul><p>When finished, find the URL under <strong>Domains</strong>, e.g.:</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>https://hexo-friendcircle4-api.vercel.app</span></span></code></pre></div><p>Append <code>/all</code>:</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>https://hexo-friendcircle4-api.vercel.app/all</span></span></code></pre></div><p>If JSON data is returned, the backend is live ğŸ‰<br> This URL is what the frontend needs.</p><p><img src="'+p+`" alt="Vercel Deploy"></p><div class="warning custom-block"><p class="custom-block-title">Note</p><p>Vercel is blocked in some regions; bind a custom domain for reliable access.</p></div></li></ol><hr><h2 id="ğŸ› ï¸-self-hosted-deployment" tabindex="-1">ğŸ› ï¸ Self-Hosted Deployment <a class="header-anchor" href="#ğŸ› ï¸-self-hosted-deployment" aria-label="Permalink to â€œğŸ› ï¸ Self-Hosted Deploymentâ€">â€‹</a></h2><p>If you have your own server, host everything yourself for full control.</p><h3 id="steps-1" tabindex="-1">Steps <a class="header-anchor" href="#steps-1" aria-label="Permalink to â€œStepsâ€">â€‹</a></h3><ol><li><p><strong>Clone the Repository</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Rock-Candy-Tea/hexo-circle-of-friends.git</span></span></code></pre></div></li><li><p><strong>Edit the Config</strong></p><p>Same as GitHub deployment:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">LINK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.yyyzyyyz.cn/link/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;butterfly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div></li><li><p><strong>Download the Binary</strong></p><p>Grab the latest release for your platform (Linux example):</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Rock-Candy-Tea/hexo-circle-of-friends/releases/download/v6.0.3/linux-x86_64-unknown-linux-musl.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-x86_64-unknown-linux-musl.zip</span></span></code></pre></div></li><li><p><strong>Start the Service</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./start.sh</span></span></code></pre></div></li><li><p><strong>Test the API</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 127.0.0.1:8000/all</span></span></code></pre></div><p>If data returns, the backend is running.<br> Use a reverse proxy to expose it under your domain if desired.</p></li><li><p><strong>Open the Port</strong></p><p>Default port <strong>8000</strong>â€”open it in your firewall or panel.<br> After deployment, access via <code>http://yourdomain:8000/all</code>.</p></li></ol><hr><h2 id="ğŸ“¦-database-notes" tabindex="-1">ğŸ“¦ Database Notes <a class="header-anchor" href="#ğŸ“¦-database-notes" aria-label="Permalink to â€œğŸ“¦ Database Notesâ€">â€‹</a></h2><ul><li>Default <strong>SQLite</strong>â€”no extra setup, sufficient for most cases</li><li><strong>MySQL / MongoDB</strong> also supportedâ€”see <a href="/docs/configuration.html">Configuration Reference</a></li></ul><hr><h2 id="ğŸ“–-further-reading" tabindex="-1">ğŸ“– Further Reading <a class="header-anchor" href="#ğŸ“–-further-reading" aria-label="Permalink to â€œğŸ“– Further Readingâ€">â€‹</a></h2><ul><li>Adapting your friend-links page â†’ <a href="/docs/advanced.html">Advanced Guide</a></li><li>Updating versions â†’ <a href="/docs/changelog.html">Changelog</a></li></ul><hr><p><em>Last Updated: 2025-08-31</em></p>`,21)])])}const E=i(d,[["render",k]]);export{f as __pageData,E as default};
