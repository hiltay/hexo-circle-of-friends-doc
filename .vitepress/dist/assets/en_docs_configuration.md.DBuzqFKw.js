import{_ as i,c as a,o as e,af as n}from"./chunks/framework.DSZV70p2.js";const g=JSON.parse('{"title":"Configuration Reference","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/configuration.md","filePath":"en/docs/configuration.md"}'),t={name:"en/docs/configuration.md"};function l(r,s,o,h,p,k){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="configuration-reference" tabindex="-1">Configuration Reference <a class="header-anchor" href="#configuration-reference" aria-label="Permalink to “Configuration Reference”">​</a></h1><p>Split into <strong>Project Configuration</strong> and <strong>Environment Variables</strong>.</p><h2 id="project-configuration" tabindex="-1">Project Configuration <a class="header-anchor" href="#project-configuration" aria-label="Permalink to “Project Configuration”">​</a></h2><p>The project configuration file is <code>fc_settings.yaml</code>.<br> Follow the inline comments and the explanations below to adjust its contents.</p><ul><li><p><strong>OUTDATE_CLEAN</strong><br> Defaults to <code>60</code>. Articles older than this value (in days) are deleted from the database on the next run.</p></li><li><p><strong>LINK</strong><br> Starting friend-link pages and crawling strategies. Multiple entries are allowed; details are in the comments.</p></li><li><p><strong>SETTINGS_FRIENDS_LINKS</strong><br> A universal way to list friends when the crawler cannot parse your friend-links page.</p><ul><li><strong>list</strong> format:<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Name, Home </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Avatar </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Name, Home </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Avatar </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Custom </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RSS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> suffix]</span></span></code></pre></div></li><li><strong>json_api_or_path</strong>: A JSON endpoint or local file containing the friend list.<br> Format:<div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;friends&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[ [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Friend1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Friend2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Friend3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]}</span></span></code></pre></div>See <a href="https://github.com/Rock-Candy-Tea/hexo-circle-of-friends/blob/main/tests/test_api.json" target="_blank" rel="noreferrer">test_api.json</a> for a complete example.</li></ul></li><li><p><strong>BLOCK_SITE</strong><br> URLs listed here will not be crawled. Useful for excluding your own blog. <strong>Regex supported</strong>.</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BLOCK_SITE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://example.com/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Exact match</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Any .com domain</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">^</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">http://</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All http:// URLs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><p><strong>BLOCK_SITE_REVERSE</strong><br><code>true</code> = invert the block list (only crawl listed sites).<br><code>false</code> = normal block list (default).</p></li><li><p><strong>MAX_POSTS_NUM</strong><br> Maximum posts fetched per friend. Default <code>5</code>.</p></li><li><p><strong>CRON</strong><br> (Self-hosted only) Cron expression for scheduled runs.<br> Default: <code>0 0,6,12,18,21 * * *</code> (run at 00:00, 06:00, 12:00, 18:00, 21:00 daily).</p></li><li><p><strong>SIMPLE_MODE</strong><br> (GitHub + Vercel only) Enable minimal mode. Default <code>false</code>.</p></li><li><p><strong>DATABASE</strong><br> Storage backend: <code>mysql</code>, <code>sqlite</code>, or <code>mongodb</code>. Default <code>sqlite</code>.</p></li><li><p><strong>DEPLOY_TYPE</strong><br> Deployment target: <code>github</code> or <code>server</code>. Default <code>github</code>.</p></li><li><p><strong>GENERATE_SUMMARY</strong> – AI summary settings</p><ul><li><strong>enabled</strong> – Turn on AI summaries. Requires the corresponding API key in environment variables. Default <code>false</code>.</li><li><strong>provider</strong> – <code>gemini</code>, <code>siliconflow</code>, or <code>all</code> (default <code>all</code>).</li><li><strong>max_concurrent</strong> – Max parallel calls. Default <code>3</code>.</li><li><strong>wait_on_rate_limit</strong> – Wait when rate-limited. Default <code>true</code>.</li><li><strong>max_chars</strong> – Max chars per request. Default <code>8000</code>.</li><li><strong>gemini</strong><ul><li><strong>models</strong>: List of model names to try in order.</li></ul></li><li><strong>siliconflow</strong><ul><li><strong>models</strong>: List of model names to try in order.</li></ul></li></ul></li></ul><h4 id="tips" tabindex="-1">Tips <a class="header-anchor" href="#tips" aria-label="Permalink to “Tips”">​</a></h4><ul><li>The first run after enabling AI summaries can be slow; enable it <strong>after</strong> everything else works.</li><li><strong>Check your usage/costs</strong> when using paid models.</li></ul><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to “Environment Variables”">​</a></h2><h3 id="for-github-deployment" tabindex="-1">For GitHub Deployment <a class="header-anchor" href="#for-github-deployment" aria-label="Permalink to “For GitHub Deployment”">​</a></h3><p>All secrets are visible in <code>.github/workflows/CI.yml</code>.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  SIMPLE_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Minimal mode, default false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sqlite</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # Default sqlite</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  PROXY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.PROXY }}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # Optional HTTP proxy</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Pick only one of mysql/sqlite/mongodb</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  MYSQL_URI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.MYSQL_URI }}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # MySQL URI</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  MONGODB_URI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.MONGODB_URI }}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # MongoDB URI (mongodb:// or mongodb+srv://)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  GEMINI_API_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.GEMINI_API_KEY }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  SILICONFLOW_API_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.SILICONFLOW_API_KEY }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  TZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Asia/Shanghai</span></span></code></pre></div><p>See <a href="./problems.html?id=如何添加Secret？">How to add Secrets?</a></p><p>Required secrets:</p><ul><li><strong>PROXY</strong> (optional) – HTTP proxy; leave empty to disable.</li><li><strong>MYSQL_URI</strong> (optional) – Required only if <code>DATABASE=mysql</code>.</li><li><strong>MONGODB_URI</strong> (optional) – Required only if <code>DATABASE=mongodb</code>.</li><li><strong>GEMINI_API_KEY</strong> (optional) – Needed for Gemini summaries. <a href="https://ai.google.dev/gemini-api/docs/api-key?hl=zh-cn" target="_blank" rel="noreferrer">Get key</a>.</li><li><strong>SILICONFLOW_API_KEY</strong> (optional) – Needed for SiliconFlow summaries. <a href="https://cloud.siliconflow.cn/me/account/ak" target="_blank" rel="noreferrer">Get key</a>.</li></ul><h3 id="for-self-hosted-deployment" tabindex="-1">For Self-Hosted Deployment <a class="header-anchor" href="#for-self-hosted-deployment" aria-label="Permalink to “For Self-Hosted Deployment”">​</a></h3><p>You can export variables temporarily, set permanent ones, or create a <code>.env</code> file in the program directory:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>MYSQL_URI=mysql://root:123456@127.0.0.1:3306/pyq</span></span>
<span class="line"><span>PROXY=127.0.0.1:7890</span></span>
<span class="line"><span>MONGODB_URI=mongodb://root:123456@127.0.0.1:27017</span></span>
<span class="line"><span>GEMINI_API_KEY=xxxxx</span></span>
<span class="line"><span>SILICONFLOW_API_KEY=xxxxx</span></span></code></pre></div><p>The <code>.env</code> file has the highest priority and overrides existing environment variables.</p>`,18)])])}const c=i(t,[["render",l]]);export{g as __pageData,c as default};
