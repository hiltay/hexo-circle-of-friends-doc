import{_ as s,c as a,o as i,af as d}from"./chunks/framework.DSZV70p2.js";const c=JSON.parse('{"title":"接口说明：获取完整统计信息与文章列表","description":"","frontmatter":{},"headers":[],"relativePath":"api/all.md","filePath":"api/all.md"}'),e={name:"api/all.md"};function n(h,t,l,r,k,p){return i(),a("div",null,[...t[0]||(t[0]=[d(`<h1 id="接口说明-获取完整统计信息与文章列表" tabindex="-1">接口说明：获取完整统计信息与文章列表 <a class="header-anchor" href="#接口说明-获取完整统计信息与文章列表" aria-label="Permalink to “接口说明：获取完整统计信息与文章列表”">​</a></h1><h2 id="请求方式" tabindex="-1">请求方式 <a class="header-anchor" href="#请求方式" aria-label="Permalink to “请求方式”">​</a></h2><div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /all</span></span></code></pre></div><h2 id="接口描述" tabindex="-1">接口描述 <a class="header-anchor" href="#接口描述" aria-label="Permalink to “接口描述”">​</a></h2><p>该接口用于获取数据库中的<strong>统计信息</strong>和<strong>文章列表</strong>。 支持分页（<code>start</code>、<code>end</code>）和排序（<code>rule</code>），可用于前端展示友链朋友圈的完整数据。</p><h2 id="请求参数" tabindex="-1">请求参数 <a class="header-anchor" href="#请求参数" aria-label="Permalink to “请求参数”">​</a></h2><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>位置</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>start</code></td><td>integer</td><td>query</td><td><code>0</code></td><td>起始位置（从 0 开始计数）。</td></tr><tr><td><code>end</code></td><td>integer</td><td>query</td><td><code>-1</code></td><td>结束位置，<code>-1</code> 表示不限制（返回全部）。</td></tr><tr><td><code>rule</code></td><td>string</td><td>query</td><td><code>updated</code></td><td>排序规则，可选：<code>created</code>（按创建时间） 或 <code>updated</code>（按更新时间）。</td></tr></tbody></table><p>⚠️ 注意：</p><ul><li><code>start &gt;= 0</code></li><li><code>rule</code> 参数只允许 <code>created</code> 或 <code>updated</code>，否则返回 <code>400</code> 错误。</li></ul><h2 id="成功响应" tabindex="-1">成功响应 <a class="header-anchor" href="#成功响应" aria-label="Permalink to “成功响应”">​</a></h2><p><strong>状态码：200</strong></p><p>返回 JSON 数据，包含统计信息和文章列表。</p><h3 id="响应示例" tabindex="-1">响应示例 <a class="header-anchor" href="#响应示例" aria-label="Permalink to “响应示例”">​</a></h3><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;statistical_data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;friends_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;active_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;error_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;article_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;last_updated_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-01 12:00:00&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;article_data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;floor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Wave Terminal 多功能开源终端&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;created&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-31&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;updated&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-31&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;link&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://blog.example.com/post&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/avatar.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;summary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一篇关于终端工具的文章...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ai_model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;qwen3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;summary_created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-01 10:00:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;summary_updated_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-01 10:00:00&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="字段说明" tabindex="-1">字段说明 <a class="header-anchor" href="#字段说明" aria-label="Permalink to “字段说明”">​</a></h3><h4 id="_1-statistical-data-统计信息" tabindex="-1">1. <code>statistical_data</code>（统计信息） <a class="header-anchor" href="#_1-statistical-data-统计信息" aria-label="Permalink to “1. statistical_data（统计信息）”">​</a></h4><table tabindex="0"><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>friends_num</code></td><td>int</td><td>已收录的友链数量</td></tr><tr><td><code>active_num</code></td><td>int</td><td>正常运行的友链数量</td></tr><tr><td><code>error_num</code></td><td>int</td><td>异常/失效的友链数量</td></tr><tr><td><code>article_num</code></td><td>int</td><td>总文章数</td></tr><tr><td><code>last_updated_time</code></td><td>string</td><td>数据最后更新时间</td></tr></tbody></table><h4 id="_2-article-data-文章列表" tabindex="-1">2. <code>article_data</code>（文章列表） <a class="header-anchor" href="#_2-article-data-文章列表" aria-label="Permalink to “2. article_data（文章列表）”">​</a></h4><table tabindex="0"><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>floor</code></td><td>int</td><td>文章序号（楼层数）</td></tr><tr><td><code>title</code></td><td>string</td><td>文章标题</td></tr><tr><td><code>created</code></td><td>string</td><td>创建时间</td></tr><tr><td><code>updated</code></td><td>string</td><td>更新时间</td></tr><tr><td><code>link</code></td><td>string</td><td>文章链接</td></tr><tr><td><code>author</code></td><td>string</td><td>作者名称</td></tr><tr><td><code>avatar</code></td><td>string</td><td>作者头像链接</td></tr><tr><td><code>summary</code></td><td>string</td><td>文章摘要</td></tr><tr><td><code>ai_model</code></td><td>string</td><td>生成摘要所用的 AI 模型</td></tr><tr><td><code>summary_created_at</code></td><td>string</td><td>摘要首次生成时间</td></tr><tr><td><code>summary_updated_at</code></td><td>string</td><td>摘要最后更新时间</td></tr></tbody></table><h2 id="错误响应" tabindex="-1">错误响应 <a class="header-anchor" href="#错误响应" aria-label="Permalink to “错误响应”">​</a></h2><table tabindex="0"><thead><tr><th>状态码</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td><strong>400</strong></td><td>请求参数错误</td><td><code>{&quot;message&quot;: &quot;rule error, please use &#39;created&#39;/&#39;updated&#39;&quot;}</code></td></tr><tr><td><strong>422</strong></td><td>参数校验失败</td><td><code>{&quot;detail&quot;: [{&quot;loc&quot;:[&quot;query&quot;,&quot;start&quot;],&quot;msg&quot;:&quot;value is not a valid integer&quot;,&quot;type&quot;:&quot;type_error.integer&quot;}]}</code></td></tr><tr><td><strong>500</strong></td><td>服务器内部错误</td><td><code>{&quot;message&quot;: &quot;数据库连接失败&quot;}</code></td></tr></tbody></table><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to “使用示例”">​</a></h2><h3 id="_1-获取全部文章-按更新时间排序-默认" tabindex="-1">1. 获取全部文章，按更新时间排序（默认） <a class="header-anchor" href="#_1-获取全部文章-按更新时间排序-默认" aria-label="Permalink to “1. 获取全部文章，按更新时间排序（默认）”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://yourdomain.com/all&quot;</span></span></code></pre></div><h3 id="_2-获取第-0–10-条数据-按创建时间排序" tabindex="-1">2. 获取第 0–10 条数据，按创建时间排序 <a class="header-anchor" href="#_2-获取第-0–10-条数据-按创建时间排序" aria-label="Permalink to “2. 获取第 0–10 条数据，按创建时间排序”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://yourdomain.com/all?start=0&amp;end=10&amp;rule=created&quot;</span></span></code></pre></div>`,26)])])}const E=s(e,[["render",n]]);export{c as __pageData,E as default};
